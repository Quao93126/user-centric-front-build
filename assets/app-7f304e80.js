import{r as s,j as e,T as o,P as x,B as h,M as S,a as k,S as I,b as w,W as le}from"./index-b5c8784b.js";import{_ as oe,d as ne,I as re}from"./mapdata-89bf5f78.js";import{S as B}from"./searchbar-5a63021a.js";import{C as ae}from"./Container-528b545a.js";import{G as l}from"./Grid-08abca2c.js";import{I as D,a as E}from"./ImageListItem-228da83c.js";import{C as z}from"./Checkbox-74b378d0.js";import"./OutlinedInput-92a5c5f7.js";import"./react-is.production.min-a192e302.js";import"./isMuiElement-9183fe64.js";const A="http://localhost:5000/users/",F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function ce(){const[T,m]=s.useState(0),[a,N]=s.useState([]),O=()=>w.get(`${A}getallCountry`);s.useEffect(()=>{O().then(t=>{N(t.data.data)}).catch(()=>{console.log("failed")})},[]);const[_,p]=s.useState(!1),[g,v]=s.useState(""),[W,L]=s.useState([a]),[f,R]=s.useState([]),M=Object.values(f).filter(Boolean).length,P=()=>p(!0),$=()=>p(!1),U=t=>{v(t.target.value)},G=t=>{const n=a.find(i=>i.title===t),r=n?n.score:0;console.log("Score of",t,"is",r),m(i=>i+Number(r)),R(i=>{const d={...i};return d[t]=!i[t],d})};s.useEffect(()=>{L(a.filter(t=>t.title.toLowerCase().includes(g.toLowerCase())))},[g,a]);const[c,H]=s.useState([]),V=()=>w.get(`${A}getallCity`);s.useEffect(()=>{V().then(t=>{H(t.data.data)}).catch(()=>{console.log("failed")})},[]);const[X,j]=s.useState(!1),[u,q]=s.useState(""),[J,K]=s.useState(c),[Q,Y]=s.useState([]),Z=Object.values(Q).filter(Boolean).length,C=()=>j(!0),ee=()=>j(!1),te=t=>{q(t.target.value)},se=t=>{const n=c.find(i=>i.cityname===t),r=n?n.score:0;console.log("Score of",t,"is",r),m(i=>i+Number(r)),Y(i=>{const d={...i};return d[t]=!i[t],d})};s.useEffect(()=>{K(c.filter(t=>t.cityname.toLowerCase().includes(u.toLowerCase())))},[u,c]);const y=["#5eb3d8","#fedb76","#40d3b7","#f97b7f","#f496f0","#ec7e7f"];let b=0;const ie=({countryName:t})=>{const n=!!f[t];let r="#93BED4";return n&&(r=y[b%y.length],b+=1),{fill:r,stroke:"black",strokeWidth:1,strokeOpacity:.2,cursor:"pointer"}};return e.jsxs(ae,{maxWidth:"xl",children:[e.jsx(l,{container:!0,spacing:3,justifyContent:"center",alignItems:"center",marginTop:6,children:e.jsxs(l,{item:!0,style:{position:"relative"},children:[e.jsx("img",{alt:"icon",src:"/assets/images/travelscore.png",style:{width:"233px",height:"200px"}}),e.jsxs(l,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-34%, -34%)",textAlign:"center"},children:[e.jsx(o,{style:{fontSize:"15px",color:"#474A5D",fontWeight:400},children:"Travel Score"}),e.jsx(o,{style:{fontSize:"43px",color:"#FA479D",fontWeight:600},children:T})]})]})}),e.jsxs(l,{container:!0,spacing:3,marginTop:2,sx:{display:"flex",justifyContent:"right"},children:[e.jsx(l,{item:!0,xs:6,md:6,lg:6,children:e.jsx(x,{sx:{backgroundColor:"#FB8D334D"},children:e.jsx(h,{fullWidth:!0,sx:{alignItems:"left",justifyContent:"left"},startIcon:e.jsx("img",{src:"/assets/icons/glass/ic_glass_country.png",alt:"icon",style:{marginRight:8,width:46,height:46}}),onClick:P,children:e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[e.jsx(o,{sx:{color:"#E98A1B",fontSize:"18px"},children:a.length}),e.jsx(o,{sx:{color:"#474A5D",fontSize:"14px"},children:"Countries"})]})})})}),e.jsx(l,{item:!0,xs:6,md:6,lg:6,children:e.jsx(x,{sx:{backgroundColor:"#0071CE4D"},children:e.jsx(h,{fullWidth:!0,sx:{alignItems:"left",justifyContent:"left"},startIcon:e.jsx("img",{src:"/assets/icons/glass/ic_glass_city.png",alt:"icon",style:{marginRight:8,width:46,height:46}}),onClick:C,children:e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[e.jsx(o,{sx:{color:"#0B70EC",fontSize:"18px"},children:c.length}),e.jsx(o,{sx:{color:"#474A5D",fontSize:"14px"},children:"Cities"})]})})})})]}),e.jsx(S,{open:_,onClose:$,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(k,{sx:F,children:[e.jsx(l,{item:!0,id:"modal-modal-title",xs:12,md:12,lg:12,children:e.jsx(x,{sx:{backgroundColor:"#FB8D334D"},children:e.jsx(h,{fullWidth:!0,sx:{alignItems:"left",justifyContent:"left"},startIcon:e.jsx("img",{src:"/assets/icons/glass/ic_glass_country.png",alt:"icon",style:{marginRight:8,width:46,height:46}}),children:e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[e.jsx(o,{sx:{color:"#E98A1B",fontSize:"18px"},children:M}),e.jsx(o,{sx:{color:"#474A5D",fontSize:"14px"},children:"Countries"})]})})})}),e.jsx(B,{filterName:g,onFilterName:U}),e.jsx(I,{children:e.jsx(D,{sx:{width:450,height:300},cols:4,rowHeight:82,children:W.map((t,n)=>e.jsxs(E,{sx:{marginTop:2},children:[e.jsx("img",{alt:`${t.value}`,src:`https://purecatamphetamine.github.io/country-flag-icons/3x2/${t.value}.svg`,style:{width:"100%",height:"auto",cursor:"pointer"}}),e.jsxs(o,{sx:{fontSize:10,color:"black"},children:[e.jsx(z,{checked:!!f[t.title],onChange:()=>G(t.title),sx:{padding:0},size:"small"}),t.title]})]},n))})})]})}),e.jsx(l,{container:!0,spacing:3,justifyContent:"center",alignItems:"center",marginTop:6,children:e.jsx(oe,{richInteraction:!0,backgroundColor:"white",borderColor:"white",color:"#93BED4",tooltipBgColor:"#31323f",size:"xl",data:ne,styleFunction:ie})}),e.jsx(S,{open:X,onClose:ee,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(k,{sx:F,children:[e.jsx(l,{item:!0,id:"modal-modal-title",xs:12,md:12,lg:12,children:e.jsx(x,{sx:{backgroundColor:"#0071CE4D"},children:e.jsx(h,{fullWidth:!0,sx:{alignItems:"left",justifyContent:"left"},startIcon:e.jsx("img",{src:"/assets/icons/glass/ic_glass_city.png",alt:"icon",style:{marginRight:8,width:46,height:46}}),onClick:C,children:e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[e.jsx(o,{sx:{color:"#0B70EC",fontSize:"18px"},children:Z}),e.jsx(o,{sx:{color:"#474A5D",fontSize:"14px"},children:"Cities"})]})})})}),e.jsx(B,{filterName:u,onFilterName:te}),e.jsx(I,{children:e.jsx(D,{sx:{width:450,height:300,backgroundColor:"black",paddingX:2},cols:2,gap:20,rowHeight:82,children:J.map((t,n)=>e.jsxs(E,{sx:{marginTop:2},children:[e.jsx("img",{src:"/assets/images/city.jpg",alt:"Background",style:{width:"90%",height:"100%",cursor:"pointer"}}),e.jsx(re,{title:e.jsxs(o,{sx:{fontSize:10,color:"white"},children:[e.jsx(z,{onChange:()=>se(t.cityname),sx:{padding:0},size:"small"}),t.cityname]}),position:"below"})]},n))})})]})})]})}function ye(){return e.jsxs(e.Fragment,{children:[e.jsx(le,{children:e.jsx("title",{children:" Dashboard | Travel Bio"})}),e.jsx(ce,{})]})}export{ye as default};
